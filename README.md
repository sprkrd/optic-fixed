# Optic (fixed 2024-10-17)

Most versions of Optic I could find on the Internet (e.g. the package you can download from KCL planning website [^1] and multiple repositories [^2] [^3]) simply don't compile in current systems, even when following the instructions strictly. This is because Optic used to compile with outdated compiler versions, and also relies on an ugly and brittle fix for the bison/flex autogenerated files. This is far from ideal, but I've done my best to make Optic work out-of-the-box in modern systems (tested with Ubuntu 24.04 in a fresh WSL installation, only the COIN-OR version, I couldn't be bothered to do the same for CPLEX).

I had to fix some lines of code that modern compilers just won't tolerate (mostly regarding copying unique pointers and not adding a const qualifier to comparison methods used by some data structures). I also fixed the cmake scripts. Now, instead of using custom Find\*.cmake modules for COIN-OR, I use the PkgConfig module to take advantage of the configuration files that come with COIN-OR .deb package. Next you'll see the instructions to compile Optic in a fresh Ubuntu installation.

## Build instructions

```
sudo apt update
sudo apt install gcc g++ perl cmake bison flex pkgconf coinor-libcbc-dev libz-dev
git clone https://github.com/sprkrd/optic-fixed.git optic
cd optic
./run-cmake-release
cd release
make -j12
```

## References

[^1]: [KCL Optic website](https://nms.kcl.ac.uk/planning/software/optic.html)
[^2]: [roveri-marco Optic repository](https://github.com/roveri-marco/optic)
[^3]: [dbanda repository](https://github.com/dbanda/optic/tree/master/optic)

